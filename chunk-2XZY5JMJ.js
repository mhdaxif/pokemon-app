import{e as J}from"./chunk-DX74MDJG.js";import{b as K}from"./chunk-AZL6DXWS.js";import{e as Q,i as W,j as X,l as Z,m as tt,n as et,o as it,p as nt,q as at,r as ot}from"./chunk-LRIJ5G46.js";import{a as q}from"./chunk-3V2RRN27.js";import"./chunk-IX6G3U3V.js";import{$b as b,Ab as a,Ac as Y,Bb as n,Bc as G,Cb as $,Cc as U,D as v,Db as j,Fb as R,Gb as B,Jb as H,O as x,Rb as r,Sb as d,Ta as T,U as M,Ub as N,Wa as l,Zb as V,_ as O,a as y,ac as k,b as P,ea as p,ia as E,ib as A,lb as f,m as D,mc as z,o as C,qa as I,ra as w,s as S,sb as u,wb as F,yc as L,z as _}from"./chunk-GB7CMFKM.js";function lt(i){return typeof i<"u"&&"frontShiny"in i}var g=class i{httpClient=p(q);getDetails(e){if(lt(e))return{frontShiny:e.frontShiny,abilities:e.abilities,stats:e.stats};let{abilities:t,stats:s}=this.shapeData(e.abilities,e.stats);return{frontShiny:e.sprites.front_shiny,stats:s,abilities:t}}pokemonDetailsTransformer(e,t){let{id:s,name:o,height:m,weight:c,stats:h,abilities:ft}=e,st=this.getDetails(e);return P(y({},st),{id:s,name:o,height:m,weight:c,color:t?.color?.name??"",shape:t?.shape?.name??"",evolvesFromSpecies:t?.evolves_from_species?.name??""})}getPokemonDetails(e,t){return _(()=>!t,this.httpClient.get(`https://pokeapi.co/api/v2/pokemon/${e}`),C(t)).pipe(M(o=>this.httpClient.get(`https://pokeapi.co/api/v2/pokemon-species/${o.id}`).pipe(S(m=>this.pokemonDetailsTransformer(o,m)),x(3),v(m=>(console.error(m),D)))))}shapeData(e,t){let s=e.map(({ability:m,is_hidden:c})=>({name:m.name,isHidden:c})),o=t.map(({stat:m,effort:c,base_stat:h})=>({name:m.name,effort:c,baseStat:h}));return{abilities:s,stats:o}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"})};function pt(i,e){if(i&1&&(a(0,"li")(1,"strong"),r(2),n(),r(3," - Effort: "),a(4,"span"),r(5),n()()),i&2){let t=e.$implicit;l(2),d(t.name),l(3),d(t.isHidden?"Yes":"No")}}function ct(i,e){if(i&1&&(a(0,"li")(1,"strong"),r(2),n(),r(3),n()),i&2){let t=e.$implicit;l(2),d(t.name),l(),N(": Effort: ",t.effort," | Base Stat: ",t.baseStat," ")}}function dt(i,e){if(i&1){let t=j();a(0,"mat-card",0)(1,"mat-card-header")(2,"div",1),$(3,"img",2),n(),a(4,"mat-card-title"),r(5),b(6,"titlecase"),n(),a(7,"mat-card-subtitle"),r(8,"Abilities and Statistics"),n()(),a(9,"mat-card-content")(10,"section",3)(11,"h3"),r(12,"Abilities"),n(),a(13,"ul"),f(14,pt,6,2,"li",4),n()(),a(15,"section",5)(16,"h3"),r(17,"Statistics"),n(),a(18,"ul"),f(19,ct,4,3,"li",4),n()()(),a(20,"mat-card-actions",6)(21,"button",7),R("click",function(){I(t);let o=B();return w(o.backToPage())}),r(22,"Go back"),n()()()}if(i&2){let t=e;l(3),H("alt",t.name),u("src",t.frontShiny,T),l(2),d(k(6,5,t.name)),l(9),u("ngForOf",t.abilities),l(5),u("ngForOf",t.stats)}}var rt=class i{id=1;pokemonDetailsService=p(g);pokemonListService=p(K);router=p(J);pokemonDetails$;ngOnInit(){this.pokemonDetails$=this.pokemonDetailsService.getPokemonDetails(this.id,history.state?.pokemon)}backToPage(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["app-detail"]],inputs:{id:[2,"id","id",e=>z(e,1)]},standalone:!0,features:[A,V],decls:2,vars:3,consts:[[1,"pokemon-detail-card"],["mat-card-avatar",""],[1,"pokemon-image",3,"src","alt"],[1,"abilities-section"],[4,"ngFor","ngForOf"],[1,"statistics-section"],["align","end"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,s){if(t&1&&(f(0,dt,23,7,"mat-card",0),b(1,"async")),t&2){let o;F((o=k(1,1,s.pokemonDetails$))?0:-1,o)}},dependencies:[Y,U,L,G,Q,W,et,at,tt,it,ot,nt,X,Z],styles:[".pokemon-detail-card[_ngcontent-%COMP%]{max-width:700px;margin:20px auto;text-align:left;padding:16px}.pokemon-image[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%}.abilities-section[_ngcontent-%COMP%], .statistics-section[_ngcontent-%COMP%]{margin-top:20px}h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:8px}ul[_ngcontent-%COMP%]{padding:0;list-style-type:none}li[_ngcontent-%COMP%]{margin-bottom:8px}.mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:16px}"],changeDetection:0})};export{rt as DetailComponent};
