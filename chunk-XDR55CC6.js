import{a as mt}from"./chunk-ZLDLUKDB.js";import{e as W,i as X,j as Z,k as tt,l as et,m as it,n as nt,o as at,p as ot,r as rt,t as st}from"./chunk-RXXIRTYT.js";import{a as K,i as Q}from"./chunk-IUOW3ZLF.js";import"./chunk-IX6G3U3V.js";import{Ab as a,Bb as n,Bc as U,Cb as _,Cc as q,D as M,Dc as J,Eb as H,Gb as N,Hb as D,Kb as L,O,Sb as o,Ta as A,Tb as f,U as I,Vb as V,Wa as m,_ as E,_b as z,a as y,ac as b,b as C,bc as k,ea as p,ia as T,ib as $,lb as d,m as P,nc as Y,o as x,ob as j,pb as R,qa as w,ra as F,rb as u,s as S,wb as B,z as v,zc as G}from"./chunk-RMOJESVZ.js";function dt(i){return typeof i<"u"&&"frontShiny"in i}var g=class i{httpClient=p(K);getDetails(e){if(dt(e))return{frontShiny:e.frontShiny,abilities:e.abilities,stats:e.stats};let{abilities:t,stats:r}=this.shapeData(e.abilities,e.stats);return{frontShiny:e.sprites.front_shiny,stats:r,abilities:t}}pokemonDetailsTransformer(e,t){let{id:r,name:l,height:s,weight:c,stats:h,abilities:kt}=e,pt=this.getDetails(e);return C(y({},pt),{id:r,name:l,height:s,weight:c,color:t?.color?.name??"",shape:t?.shape?.name??"",evolvesFromSpecies:t?.evolves_from_species?.name??""})}getPokemonDetails(e,t){return v(()=>!t,this.httpClient.get(`https://pokeapi.co/api/v2/pokemon/${e}`),x(t)).pipe(I(l=>this.httpClient.get(`https://pokeapi.co/api/v2/pokemon-species/${l.id}`).pipe(S(s=>this.pokemonDetailsTransformer(l,s)),O(3),M(s=>(console.error(s),P)))))}shapeData(e,t){let r=e.map(({ability:s,is_hidden:c})=>({name:s.name,isHidden:c})),l=t.map(({stat:s,effort:c,base_stat:h})=>({name:s.name,effort:c,baseStat:h}));return{abilities:r,stats:l}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})};var ft=()=>[U,G,q,tt,nt,Z,et,at,it,ot];function ut(i,e){if(i&1&&(a(0,"li")(1,"strong"),o(2),n(),o(3," - Effort: "),a(4,"span"),o(5),n()()),i&2){let t=e.$implicit;m(2),f(t.name),m(3),f(t.isHidden?"Yes":"No")}}function gt(i,e){if(i&1&&(a(0,"li")(1,"strong"),o(2),n(),o(3),n()),i&2){let t=e.$implicit;m(2),f(t.name),m(),V(": Effort: ",t.effort," | Base Stat: ",t.baseStat," ")}}function _t(i,e){if(i&1){let t=H();a(0,"mat-card",0)(1,"mat-card-header")(2,"div",1),_(3,"img",2),n(),a(4,"mat-card-title"),o(5),b(6,"titlecase"),n(),a(7,"mat-card-subtitle"),o(8,"Abilities and Statistics"),n()(),a(9,"mat-card-content")(10,"section",3)(11,"h3"),o(12,"Abilities"),n(),a(13,"ul"),d(14,ut,6,2,"li",4),n()(),a(15,"section",5)(16,"h3"),o(17,"Statistics"),n(),a(18,"ul"),d(19,gt,4,3,"li",4),n()()(),a(20,"mat-card-actions",6)(21,"button",7),N("click",function(){w(t);let l=D(2);return F(l.backToPage())}),o(22,"Go back"),n()()()}if(i&2){let t=e;m(3),L("alt",t.name),u("src",t.frontShiny,A),m(2),f(k(6,5,t.name)),m(9),u("ngForOf",t.abilities),m(5),u("ngForOf",t.stats)}}function Dt(i,e){if(i&1&&(d(0,_t,23,7,"mat-card",0),b(1,"async")),i&2){let t,r=D();B((t=k(1,1,r.pokemonDetails$))?0:-1,t)}}function bt(i,e){i&1&&_(0,"mat-spinner")}var lt=class i{id=1;pokemonDetailsService=p(g);pokemonListService=p(st);router=p(Q);pokemonDetails$;ngOnInit(){this.pokemonDetails$=this.pokemonDetailsService.getPokemonDetails(this.id,history.state?.pokemon)}backToPage(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["app-detail"]],inputs:{id:[2,"id","id",e=>Y(e,1)]},standalone:!0,features:[$,z],decls:4,vars:0,consts:[[1,"pokemon-detail-card"],["mat-card-avatar",""],[1,"pokemon-image",3,"src","alt"],[1,"abilities-section"],[4,"ngFor","ngForOf"],[1,"statistics-section"],["align","end"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,r){t&1&&(d(0,Dt,2,3)(1,bt,1,0),j(2,0,ft,1),R())},dependencies:[J,W,X,rt,mt],styles:[".pokemon-detail-card[_ngcontent-%COMP%]{max-width:700px;margin:20px auto;text-align:left;padding:16px}.pokemon-image[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%}.abilities-section[_ngcontent-%COMP%], .statistics-section[_ngcontent-%COMP%]{margin-top:20px}h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:8px}ul[_ngcontent-%COMP%]{padding:0;list-style-type:none}li[_ngcontent-%COMP%]{margin-bottom:8px}.mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:16px}"],changeDetection:0})};export{lt as DetailComponent};
